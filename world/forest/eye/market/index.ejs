<style>
    <%- include("./stall.css"); %>
    <%- include("./market.css") %>
</style>

<p>
    This is the market.
</p>

<hr>

<div class="stall" id="tools">
    <div class="dialogue" id="clerk"></div>

    <div class="display-area">

    </div>
</div>


<div class="stall">
    <div class="dialogue" id="jesh"></div>
    
    <div class="display-area">
        <div class="toy">
            <div class="box">
                <div class="lid"></div>
            </div>
        </div>
        <div class="toy">
            <div class="spinner">
                <div class="pin"></div>
                <div class="wing"></div>
                <div class="wing"></div>
                <div class="wing"></div>
                <div class="wing"></div>
                <div class="wing"></div>
                <div class="wing"></div>
            </div>
        </div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
        <div class="toy"></div>
    </div>

</div>

<div class="stall">
    <div class="dialogue" id="glerk"></div>

    <div class="display-area">

    </div>
</div>

<div class="stall">
    <div class="dialogue" id="garak"></div>

    <div class="display-area">

    </div>
</div>

<hr>

<a class="do" href="/forest/eye/market/stage">
    Approach the Stage
</a>

<hr>

<a class="to" href="/forest/eye/square">
    Head to the Square
</a>

<a class="to" href="/forest/eye/artisans">
    Head to the Artisans
</a>

<a class="to" href="/forest/eye/filter/pond">
    Head into the Filter
</a>

<script src="/js/merchant.js"></script>
<script src="/js/dialogue.js"></script>
<script>
    let garak = new Dialogue("garak", 2000, function () {
        if (this.checkFlag("listening")) {
            this.addFlag("listened");
            return [
                Dialogue.textSlide("I would entreat you to make a purchase, but as you can see..."),
                Dialogue.textSlide("Let's just say things just haven't been the same since the Creation.")
            ];
        }
        else {
            this.addFlag("listening");
            return [
                Dialogue.textSlide("Oh, hello there. Welcome to my, uh... my humble stall.")
            ];
        }
    });

    let jesh = new Dialogue("jesh", 2000, function () {
        return [
            Dialogue.textSlide("Welcome, welcome!"),
            Dialogue.textSlide("Looking for knick-knacks or doodads?"),
            Dialogue.textSlide("I got 'em!")
        ]
    });

    let clerkDialogue = new Dialogue("clerk", 1250, function () {
        return [
            Dialogue.textSlide("'Got tools.")
        ];
    });

    let glerkDialogue = new Dialogue("glerk", 1250, function () {
        return [
            Dialogue.textSlide("'Got tools.")
        ];
    });
</script>