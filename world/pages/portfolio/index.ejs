<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wyatt Sushinsky's Portfolio</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>
    <style>
        <%- include("./portfolio.css"); %>
    </style>

    <nav class="nav-closed">
        <h1>Wyatt Sushinsky</h1>

        <div class="buttons">
            <a href="https://www.linkedin.com/in/wyatt-sushinsky/"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/Mosshide"><i class="fab fa-github-square"></i></a>
            <button id="nav-message" onclick="messager.open()">Contact Wyatt</button>
        </div>
    </nav>

    <header>
        <div class="portrait">
            <div class="portrait-fade"></div>
        </div>

        <h3>Software Engineer</h3>
        
        <h2>Wyatt Sushinsky</h2>

        <div class="external-links">
            <a href="https://www.linkedin.com/in/wyatt-sushinsky/"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/Mosshide"><i class="fab fa-github-square"></i></a>
            <button id="message" onclick="messager.open()">Contact Wyatt</button>
        </div>
    </header>

    <main>
        <section class="showcase" id="notherbase">
            <img src="/img/the-front/logo.png" />

            <div class="text">
                <h3>NotherBase</h3>

                <h4>
                    <a target="_blank" href="https://github.com/Mosshide/NotherBase">
                        <i class="fab fa-github-square"></i>Repository
                    </a>

                    <a target="_blank" href="https://www.notherbase.com/">
                        <i class="fas fa-external-link-square-alt"></i>Live App
                    </a>
                </h4>

                <hr class="light">

                <p>
                    Welcome to NotherBase! This is my web app playground. 
                    Explore the world of NotherBase and unlock its secrets.
                </p>

                <p>
                    NotherBase has several front pages for visitors without
                    accounts, which orients them to NotherBase's unique navigational
                    style and interactive objects.
                </p>

                <p>
                    Accounts may be made for free. Logging in allows the
                    NotherBase server to save users' gameplay details. 
                </p>

                <p>
                    This web app is currently in development.
                </p>
            </div>
        </section>

        <section class="showcase" id="notherbase-fs">
            <img src="/img/the-front/logo.png" />

            <div class="text">
                <h3>notherbase-fs</h3>

                <h4>
                    <a target="_blank" href="https://github.com/Mosshide/notherbase-fs">
                        <i class="fab fa-github-square"></i>Repository
                    </a>

                    <a target="_blank" href="https://www.npmjs.com/package/notherbase-fs">
                        <i class="fas fa-external-link-square-alt"></i>Latest Release
                    </a>
                </h4>

                <hr class="light">

                <p>
                    This Node.js package is the engine for NotherBase.
                    It adapts Express.js and MongoDB to the tasks NotherBase 
                    needs, enabling content to be produced quicker.
                </p>

                <p>
                    notherbase-fs features automatic route creation, access to 
                    gameplay systems and future support for other 'bases. It's all 
                    generated from content packages like NotherBase above.
                </p>

                <p>
                    notherbase-fs and notherbase documention just launched:
                    <a href="/docs">notherbase.com/docs</a>
                </p>

                <p>
                    This package recieves continued development as the demands of
                    NotherBase grow.
                </p>
            </div>
        </section>

        <div class="messager"></div>
    </main>

    <script src="/js/base.js"></script>
    <script>
        const base = new Base();

        $(window).scroll(function() {
            if (window.scrollY > (3 / 4) * parseInt($("header").css("height"))) {
                $("nav").removeClass("nav-closed");
            }
            else {
                $("nav").addClass("nav-closed");
            }
        });

        class Messager {
            constructor() {
                this.$div = $(".messager");
                this.close();
                this.render();
            }

            render = () => {
                this.$fade = $(`<div class="fade"></div>`).appendTo(this.$div);
                this.$fade.click(this.close);

                this.$form = $(`<div class="form"></div>`).appendTo(this.$div);

                this.$close = $(`<button class="close">X</button>`).appendTo(this.$form);
                this.$close.click(this.close);

                $(`<h4>Send Wyatt A Message</h4>`).appendTo(this.$form);

                $(`<h6>Your Email:</h6>`).appendTo(this.$form);
                this.$from = $(`<input type="email" class="from" placeholder="e@mail.com"></input>`).appendTo(this.$form);

                $(`<h6>Your Message:</h6>`).appendTo(this.$form);
                this.$message = $(`<textarea class="message" placeholder="Your Message"></textarea>`).appendTo(this.$form);

                this.$send = $(`<button class="send">Send Message</button>`).appendTo(this.$form);
                this.$send.click(this.send);

                this.$info = $(`<p class="info"></p>`).appendTo(this.$form);

                this.$loading = $(`<div class="loading">Please Wait...</div>`).appendTo(this.$form);
                this.endLoading();
            }

            open = () => {
                this.$div.removeClass("invisible");
            }

            close = () => {
                this.$div.addClass("invisible");
            }

            toggle = () => {
                this.$div.toggleClass("invisible");
            }

            startLoading = () => {
                this.$loading.removeClass("invisible");
            }

            endLoading = () => {
                this.$loading.addClass("invisible");
            }

            setInfo = (info) => {
                this.$info.text(info);
            }

            send = () => {
                this.startLoading();

                base.do("send-message", {
                    route: "/pages/portfolio",
                    from: this.$from.val(),
                    message: this.$message.val()
                }).then((res) => {
                    if (res.status === "success") {
                        this.$from.val("");
                        this.$message.val("");
                        this.setInfo("Message sent successfully!");
                    }
                    else this.setInfo("Error: Message not sent! Please try again later.");

                    this.endLoading();
                });
            }
        }

        const messager = new Messager();
    </script>
</body>
</html>